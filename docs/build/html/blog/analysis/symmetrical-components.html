
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Symmetrical Components &#8212; NI4AI Blog 0.1 documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/blank.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <link rel="shortcut icon" href="../../_static/tree.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="What’s the Angle? (Part 1)" href="what-is-the-angle-1.html" />
    <link rel="prev" title="Benchmarking Results" href="benchmarking-results.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    
      
      <link rel="icon" sizes="16x16" href="../../_static/_static/tree.png">
      
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/PingThings_logo_color.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../home/index.html">
  Blog Home
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Posts
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../workshops/index.html">
  Workshops
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../tutorials/index.html">
  Tutorials
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://btrdb.readthedocs.io/en/latest/">API Docs<i class="fas fa-external-link-alt"></i></a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/PingThingsIO/ni4ai-notebooks/tree/main/tutorials">Tutorials<i class="fas fa-external-link-alt"></i></a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://www.pingthings.io/">PingThings<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/PingThingsIO/ni4ai-notebooks" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://www.pingthings.io/" rel="noopener" target="_blank" title="PingThings">
            <span><i class="fa"></i></span>
            <label class="sr-only">PingThings</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Read the blog
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../data/index.html">
   Data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../data/events.html">
     Wide Area Events
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../data/monitoring.html">
     Monitoring
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Analytics
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="spectral-analysis.html">
     Spectral Analysis (part 1)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="disaggregation.html">
     Solar Disaggregation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="angle-differencing.html">
     Angle Differencing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tap-change.html">
     Counting tap changer operations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="voltage-sags.html">
     Voltage Sag Safari
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="benchmarking-results.html">
     Benchmarking Results
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Symmetrical Components
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="what-is-the-angle-1.html">
     What’s the Angle? (Part 1)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="what-is-the-angle-2.html">
     What’s the Angle? (Part 2)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="whats-in-a-phasor.html">
     What is a Phasor?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="visualizing-phasor-timeseries.html">
     Visualizing Phasor Timeseries with matplotlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="power-factor.html">
     Power Factor Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="linear-models-overview.html">
     Training Linear Models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="blue-cut-fire.html">
     Blue Cut Fire
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="btrdb-queries-pt1.html">
     Memory Efficient Queries (Part 1)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="btrdb-queries-pt2.html">
     Memory Efficient Queries (Part 2)
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../thoughts/index.html">
   Commentary
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../thoughts/fire-season.html">
     Fire season is just around the corner
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../thoughts/pmu-siting-2.html">
     Choosing where to site distribution PMUs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../thoughts/sunshine-data.html">
     A brief walkthrough of the Sunshine uPMU dataset
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../thoughts/btrdb-explained.html">
     BTrDB Explained
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../thoughts/ekg-data.html">
     On EKG Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../ni4ai/index.html">
   Get Involved in NI4AI
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ni4ai/demo-1.html">
     Demo (Part 2): Exploring Data in “The Plotter”
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ni4ai/demo-2.html">
     Demo (Part 2): Establishing an API Connection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ni4ai/add-sensors.html">
     Stream Data to NI4AI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ni4ai/language-bindings-survey.html">
     Language Bindings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ni4ai/democratizing-data.html">
     Democratizing Grid Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ni4ai/expertise-for-experts.html">
     Expertise for Experts
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   References
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="symmetrical-components">
<h1>Symmetrical Components<a class="headerlink" href="#symmetrical-components" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>Author: Mohini Bariya</p>
<p>November 20, 2020</p>
<p>This post provides an introduction to symmetrical components (i.e., positive, negative and zero sequence vectors) for three-phase circuits.</p>
</div></blockquote>
<hr class="docutils" />
<p><em>Symmetrical components</em> are a popular method for analyzing and discussing three phase circuits. Instead of modeling the system in terms of the three phase voltages/currents—represented by a triplet of phasors—the symmetrical component method models the system in terms of three sets of three phasors, or nine in total. In spite of turning three phasors to nine, the transform is not underdetermined. While the original phasors are unconstrained, the symmetrical components obey strict symmetries. The three symmetrical component sets are called the positive, negative, and zero sequences. In Fig 1, we can see the strict symmetries: within each set, the phasors have equal magnitude, and fixed relative angles. The only flexibility is in scaling and rotating each full set of three phasors.</p>
<p><img alt="Figure 1: The symmetrical components" src="../../_images/sym_comps.png" />
Figure 1: The symmetrical components.</p>
<p>Let’s look at an example. Suppose we have the following set of current phasors. These are really unbalanced, and would be bad news for a system operator! They have significantly different magnitudes and are not even close to <span class="math notranslate nohighlight">\(120^o\)</span> apart. We visualize them as phasors in Fig. 2 and as time domain signals in Fig. 3 (for more on this conversion, see <a class="reference external" href="https://blog.ni4ai.org/post/2020-07-30-what-is-the-angle/">this post</a>).</p>
<p><img alt="Figure 2: Unbalanced three phase currents" src="../../_images/phase_currents.png" />
Figure 2: Unbalanced three phase currents
<img alt="Figure 3: Unbalanced three phase currents" src="../../_images/phase_currents_td.png" />
Figure 3: Unbalanced three phase currents</p>
<p>Fig. 4 shows the symmetrical component representation of these unbalanced current phasors. Notice how we’ve obtained three highly symmetric sets of phasors from the totally asymmetric original phasors.</p>
<p><img alt="Figure 4: Symmetrical components of unbalanced currents" src="../../_images/sym_currents.png" />
Figure 4: Symmetrical components of unbalanced currents</p>
<p>To return to the original phasors, we simply add up the corresponding phasors in each of the symmetrical component sets. This is visualized in Fig. 5.</p>
<p><img alt="Figure 5: From symmetrical components to phase currents." src="../../_images/sym_inverse.png" />
Figure 5: From symmetrical components to phase currents.</p>
<p>The symmetrical component transform and its inverse are expressed mathematically in the following matrix equations [1].</p>
<p>Phase a, b, c to symmetrical components
$<span class="math notranslate nohighlight">\(  
\alpha = e^{j\frac{2\pi}{3}}\\  
\begin{bmatrix} I_{0} \\ I_{+} \\ I_{-} \end{bmatrix} = \frac{1}{3}\begin{bmatrix} 1 &amp; 1 &amp; 1\\ 1 &amp; \alpha &amp; \alpha^2 \\ 1 &amp; \alpha^2 &amp; \alpha\end{bmatrix}\begin{bmatrix}I_a \\ I_b \\ I_c\end{bmatrix}  
\)</span>$</p>
<p>Symmetrical components to Phase a, b, c
$<span class="math notranslate nohighlight">\(  
\begin{bmatrix} I_{a} \\ I_{b} \\ I_{c} \end{bmatrix} = \frac{1}{3}\begin{bmatrix} 1 &amp; 1 &amp; 1\\ 1 &amp; \alpha^2 &amp; \alpha \\ 1 &amp; \alpha &amp; \alpha^2\end{bmatrix}\begin{bmatrix}I_{0} \\ I_{+} \\ I_{-}\end{bmatrix}  
\)</span>$</p>
<p>Why do we use symmetrical components? They are useful in both modeling and analysis. Since the positive, negative, and zero sequence components always obey strict symmetries, it is often easier to model the effect of a three phase circuit on each symmetrical component set independently, than on the original unbalanced phasors. Since circuits are linear, we can simply add up the effect on each sequence component to obtain the full effect on the unbalanced phasors. This linearity also means that each sequence current only affects the corresponding sequence voltage, leading to simplified voltage and current relationships in the symmetrical component domain.</p>
<p>Consider the following three phase circuit, which is called a “Y” connection.</p>
<p><img alt="Figure 6: Y connected circuit." src="../../_images/Y.png" />
Figure 6: Y connected circuit.</p>
<p>In this circuit, the three phase currents meet at a common point and flow through a single wire to ground. Let us write the voltage-current relationship per phase. This gives us the matrix equation:
$<span class="math notranslate nohighlight">\(  
\begin{bmatrix}  
V_a \\ V_b \\ V_c  
\end{bmatrix} = \begin{bmatrix}  
Z + Z_R &amp; Z_R &amp; Z_R\\  
Z_R &amp; Z + Z_R &amp; Z_R\\  
Z_R &amp; Z_R &amp; Z + Z_R  
\end{bmatrix}\begin{bmatrix}  
I_a \\ I_b \\ I_c  
\end{bmatrix}  
\)</span>$</p>
<p>Now, let’s do the same in terms of symmetrical components. It is easy to see that the positive and negative sequence currents will add to 0 in the return wire, leaving only the zero sequence components to be affected by <span class="math notranslate nohighlight">\(Z_R\)</span>. Recall, that each voltage symmetrical component depends only on the corresponding symmetrical component of current. This leads to the following equation relating voltage symmetrical components to current symmetrical components:
$<span class="math notranslate nohighlight">\(  
\begin{bmatrix}  
V_0 \\ V_+ \\ V_-  
\end{bmatrix} = \begin{bmatrix}  
3Z_R &amp; 0 &amp; 0\\  
0 &amp; Z &amp; 0\\  
0 &amp; 0 &amp; Z  
\end{bmatrix}\begin{bmatrix}  
I_0 \\ I_+ \\ I_-  
\end{bmatrix}  
\)</span>$
In analysis, looking at the symmetrical components can more intuitively convey the nature of imbalances caused by system events such as faults. For example, faults involving ground lead to a zero sequence component, while line to line faults produce only positive and negative sequence components [2].</p>
<p>We can compute symmetrical components on real PMU measurements in the NI4AI dataset. This entails querying 6 measurements from a single PMU: three magnitudes and three angles for the phasors from each of the three circuit phases. We will compute the symmetrical components of a set of voltage measurements. The plots in Fig. 7 show the raw voltage magnitudes and angles over 5 minutes.</p>
<p><img alt="Figure 7: Three phase voltage measurements" src="../../_images/voltage_data.png" />
Figure 7: Three phase voltage measurements</p>
<p>Notice that the angles reported by the PMUs are in degrees and are “wrapped” to bound them between 0 and 360 degrees. For this computation, we “unwrap” them and convert to radians to obtain the smooth angle time series shown in Fig. 8 (for more on this transformation, see <a class="reference external" href="https://blog.ni4ai.org/post/2020-07-29-what-is-the-angle-part-2/">this post</a>):</p>
<p><img alt="Figure 8: Unwrapped voltage angles" src="../../_images/unwrapped_angle.png" />
Figure 8: Unwrapped voltage angles</p>
<p>The final preprocessing step is to combine the magnitude and angle measurements to obtain complex valued voltage phasors. From these phasors, we compute the symmetrical components. The magnitudes of the positive, negative, and zero sequence components are plotted in Fig. 9.</p>
<p><img alt="Figure 9: Magnitude of symmetrical components of voltage data." src="../../_images/voltage_sym_comps.png" />
Figure 9: Magnitude of symmetrical components of voltage data.</p>
<p>Notice that while the negative and zero sequence components are never zero, their magnitudes are several orders of magnitude smaller than the positive sequence. This reflects the fact that while the system is never perfectly balanced, it is close to balanced.</p>
<p>Finally, let us consider what happens to the symmetrical components during a significant system event. First, we query voltage measurements during a large voltage sag, where the voltage magnitude drops briefly but dramatically (for more on voltage sags, see <a class="reference external" href="https://blog.ni4ai.org/post/2020-04-15-voltage-sags/">this post</a>). The data is shown in Figure 10.</p>
<p><img alt="Figure 10: Voltage measurements during voltage sag event." src="../../_images/voltage_event_data.png" />
Figure 10: Voltage measurements during voltage sag event.</p>
<p>The symmetrical component magnitudes during this event are shown in Fig. 11.</p>
<p><img alt="Figure 11: Magnitude of symmetrical components of voltage sag." src="../../_images/voltage_sym_comps_event.png" />
Figure 11: Magnitude of symmetrical components of voltage sag.</p>
<p>Notice the dramatic increase in the positive and negative sequence components during the voltage sag. This information may be useful for identifying the cause of the voltage sag.</p>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>[1] Amberg, A., &amp; Rangel, A. (2014). Tutorial on symmetrical components. Selinc. Cachefly. Net, 1, 1-6
[2] https://peguru.com/2011/05/symmetrical-components-demystified/</p>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="benchmarking-results.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Benchmarking Results</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="what-is-the-angle-1.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">What’s the Angle? (Part 1)</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, PingThings.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>