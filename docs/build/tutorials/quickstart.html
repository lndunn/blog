
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>0 - PredictiveGrid in Python &#8212; NI4AI Blog 0.1 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/blank.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <link rel="shortcut icon" href="../_static/tree.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1 - Finding Collections &amp; Streams" href="collections.html" />
    <link rel="prev" title="Code" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    
      
      <link rel="icon" sizes="16x16" href="../_static/_static/tree.png">
      
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/PingThings_logo_color.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../quickstart/index.html">
  Quickstart
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../data/index.html">
  Data
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../blog/index.html">
  Learn
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../workshops/index.html">
  Watch
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Code
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://btrdb.readthedocs.io/en/latest/">API Docs<i class="fas fa-external-link-alt"></i></a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://www.pingthings.io/">PingThings<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/PingThingsIO/ni4ai-notebooks" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://www.pingthings.io/" rel="noopener" target="_blank" title="PingThings">
            <span><i class="fa"></i></span>
            <label class="sr-only">PingThings</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Access the PredictiveGrid
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference external" href="https://ni4ai.org">
   Register
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://plot.ni4ai.org">
   Plotter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://jupyter.ni4ai.org">
   Jupyterhub
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://ni4ai.org/datasets">
   Data
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Learn More
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../blog/index.html">
   Learn
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../blog/platform/index.html">
     Platform
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/platform/plotter-demo.html">
       Plotter Demo
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/platform/api-demo.html">
       Demo: Connecting to the API
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/platform/btrdb-explained.html">
       BTrDB Explained
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/platform/btrdb-queries-pt1.html">
       Memory Efficient BTrDB Queries: Part 1
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/platform/btrdb-queries-pt2.html">
       Memory Efficient BTrDB Queries: Part 2
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/platform/benchmarking-results.html">
       PredictiveGrid Benchmarks
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../blog/analysis/index.html">
     Analytics
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/quadrature-demodulation.html">
       Harmonic Phasor Estimation with Quadrature Demodulation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/spectral-analysis.html">
       Spectral Analysis (part 1)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/disaggregation.html">
       Solar Disaggregation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/angle-differencing.html">
       Angle Differencing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/tap-change.html">
       Counting tap changer operations
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/voltage-sags.html">
       Voltage Sag Safari
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/benchmarking-results.html">
       Benchmarking Results
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/symmetrical-components.html">
       Symmetrical Components
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/what-is-the-angle-1.html">
       What’s the Angle? (Part 1)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/what-is-the-angle-2.html">
       What’s the Angle? (Part 2)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/whats-in-a-phasor.html">
       What is a Phasor?
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/visualizing-phasor-timeseries.html">
       Visualizing Phasor Timeseries with matplotlib
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/power-factor.html">
       Power Factor Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/linear-models-overview.html">
       Training Linear Models
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/blue-cut-fire.html">
       Blue Cut Fire
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/btrdb-queries-pt1.html">
       Memory Efficient Queries (Part 1)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/analysis/btrdb-queries-pt2.html">
       Memory Efficient Queries (Part 2)
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../blog/commentary/index.html">
     Commentary
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/commentary/fire-season.html">
       Fire season is just around the corner
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/commentary/pmu-siting-2.html">
       Choosing where to site distribution PMUs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/commentary/ekg-data.html">
       On EKG Data
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../blog/ni4ai/index.html">
     Get Involved in NI4AI
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/ni4ai/add-sensors.html">
       Stream Data to NI4AI
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/ni4ai/language-bindings-survey.html">
       Language Bindings
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/ni4ai/democratizing-data.html">
       Democratizing Grid Data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/ni4ai/expertise-for-experts.html">
       Expertise for Experts
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../blog/ni4ai/sunshine-data.html">
       A brief walkthrough of the Sunshine uPMU dataset
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../workshops/index.html">
   Watch
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../workshops/sascha.html">
     Understanding PMU Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../workshops/kevin.html">
     Use Cases and Applications for PMU Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../workshops/sean.html">
     The Power of Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../workshops/mohini.html">
     Voltage Sag Detection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../workshops/miles.html">
     Exploring Frequency and Phase
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Code
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     0 - PredictiveGrid in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="collections.html">
     1 - Finding Collections &amp; Streams
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="streams.html">
     2 - Working with Streams
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="streamsets.html">
     3 - Working with StreamSets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plots.html">
     4 - Basic Plots
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="statpoints.html">
     5: Working with StatPoints
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="queries.html">
     6 - Memory Efficient Queries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="metadata.html">
     7 - Working with Metadata
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="windows.html">
     8 - Windows, aligned windows, and values
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plotaggregates.html">
     9 - Visualizing Aggregates
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ingestion.html">
     10 - Data Ingestion
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://btrdb.readthedocs.io/en/latest/">
   API Docs
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  About Us
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference external" href="https://pingthings.io">
   PingThings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://ni4ai.org/about">
   NI4AI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://ni4ai.org/contact">
   Contact Us
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#A-Quick-Start-Notebook">
   A Quick Start Notebook
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Find-Collections">
   Find Collections
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Find-Streams">
   Find Streams
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Work-with-a-stream">
   Work with a stream
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Data-Types-from-Time-Series-Queries">
     Data Types from Time Series Queries
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Data-Time-Range">
     Data Time Range
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Querying-Data">
     Querying Data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#stream.values">
       <code class="docutils literal notranslate">
        <span class="pre">
         stream.values
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#stream.windows">
       <code class="docutils literal notranslate">
        <span class="pre">
         stream.windows
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#stream.aligned_windows">
       <code class="docutils literal notranslate">
        <span class="pre">
         stream.aligned_windows
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Work-with-multiple-streams-using-streamsets">
   Work with multiple streams using streamsets
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#THE-END">
   THE END
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>

<section id="0---PredictiveGrid-in-Python">
<h1>0 - PredictiveGrid in Python<a class="headerlink" href="#0---PredictiveGrid-in-Python" title="Permalink to this headline">¶</a>
</h1>
<section id="A-Quick-Start-Notebook">
<h2>A Quick Start Notebook<a class="headerlink" href="#A-Quick-Start-Notebook" title="Permalink to this headline">¶</a>
</h2>
<p>This notebook is a quick start to working with data using PredictiveGrid’s Python API. It illustrates the basic, key functionality of the API to give you a running start working with data in the platform.</p>
<p>The very first step is to import all the required packages. Below is a list of basic imports that you can copy and paste into your own notebooks to get going. The external python libraries (<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, etc.) have wonderful, extensive documentation that you should look up if you want to explore all their functionalities or just unstick yourself. The <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">inline</span></code> command ensures that plots will be rendered in the notebook itself, rather than in a pop-up window.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="c1"># PredictiveGrid imports</span>
<span class="kn">import</span> <span class="nn">btrdb</span> <span class="c1"># Platform Python bindings</span>
<span class="kn">from</span> <span class="nn">btrdb.utils</span> <span class="kn">import</span> <span class="n">timez</span> <span class="c1"># helpful sub-package for handling time</span>
<span class="kn">from</span> <span class="nn">btrdb.stream</span> <span class="kn">import</span> <span class="n">StreamSet</span> <span class="c1"># subpackage with light wrapper for working with multiple streams</span>

<span class="c1"># External Python libraries</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># scientific computing package</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># plotting package</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> <span class="c1"># data analysis library</span>
<span class="kn">from</span> <span class="nn">tabulate</span> <span class="kn">import</span> <span class="n">tabulate</span> <span class="c1"># creating &amp; printing neat tables</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span> <span class="c1"># for working with time</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
<p>Next, we must connect to the database. The <code class="docutils literal notranslate"><span class="pre">connect</span></code> function optionally accepts endpoint and apikey string arguments, which can be passed like:</p>
<p><code class="docutils literal notranslate"><span class="pre">btrdb.connect(endpoint_string,</span> <span class="pre">apikey=key_string)</span></code></p>
<p>When running a notebook on JupyterHub, these do not need to be passed.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">btrdb</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">conn</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{'majorVersion': 5, 'build': '5.12.5', 'proxy': {'proxyEndpoints': []}}
</pre></div>
</div>
</div>
</section>
<section id="Find-Collections">
<h2>Find Collections<a class="headerlink" href="#Find-Collections" title="Permalink to this headline">¶</a>
</h2>
<p>The streams in the database are organized into collections, which can be thought of as heirarchical paths such as <code class="docutils literal notranslate"><span class="pre">CALIFORNIA/SanFrancisco/91405/Sensor1</span></code> but are internally just strings. A single collection, defined by a path-like name, can contain any number of individual streams. It is best to name collections and organize streams into them in some logically consistent and descriptive way to facilitate searching (think about creating a file heirarchy to organize data files and mirror this in
the collection name).</p>
<p>Let us query all and print out some of the collections in this cluster. We will print out the individual collection names to reflect the implicit heirarchical data organization they encode.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">collections</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">list_collections</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'Found'</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">collections</span><span class="p">),</span> <span class="s1">'collections'</span><span class="p">)</span>

<span class="n">collections</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

<span class="c1"># We limit the number of collections so we don't print too many</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">collections</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]):</span>
    <span class="n">levels</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">levels</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">collections</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">continue</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">j</span><span class="o">*</span><span class="s1">' '</span><span class="p">,</span><span class="s1">'-&gt;'</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Found 486 collections
 -&gt; Health
  -&gt; EKG
   -&gt; patient001
 -&gt; POW
  -&gt; EPFL
  -&gt; GridSweep
</pre></div>
</div>
</div>
<p>We can also limit the search to collections with a certain prefix (you may want to change the prefix below to obtain interesting results on your particular allocation).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">prefix</span> <span class="o">=</span> <span class="s1">'sunshine/PMU1'</span>
<span class="n">collections</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">list_collections</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'Found'</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">collections</span><span class="p">),</span> <span class="s1">'collections'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">collections</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Found 1 collections
['sunshine/PMU1']
</pre></div>
</div>
</div>
</section>
<section id="Find-Streams">
<h2>Find Streams<a class="headerlink" href="#Find-Streams" title="Permalink to this headline">¶</a>
</h2>
<p>Now that we have a collection, the next step is to find individual streams (though we could have done this directly, if we know what we want). As you may recall, each stream represents a single time series within the database, which contains the atomic, <code class="docutils literal notranslate"><span class="pre">(time,</span> <span class="pre">value)</span></code> pairs, and has some associated metadata.</p>
<p>To get the streams, we will use the <code class="docutils literal notranslate"><span class="pre">streams_in_collection</span></code> method. This takes an optional collection prefix argument. If we pass in no argument, we will get all streams in the database. Let us work with the collection we found previously. Note that the method returns an <a class="reference external" href="https://wiki.python.org/moin/Iterator">iterator</a>, which we convert to a list below.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">collection</span> <span class="o">=</span> <span class="n">collections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">streams</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">conn</span><span class="o">.</span><span class="n">streams_in_collection</span><span class="p">(</span><span class="n">collection</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'Found'</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">streams</span><span class="p">),</span> <span class="s1">'streams in collection'</span><span class="p">,</span> <span class="n">collection</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Found 13 streams in collection sunshine/PMU1
</pre></div>
</div>
</div>
<p>Recall that streams have metadata, which can help us understand what the stream <em>is</em>. The convenience function below will obtain and pretilly print a set of streams and their metadata.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">describe_streams</span><span class="p">(</span><span class="n">streams</span><span class="p">):</span>
    <span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">"Collection"</span><span class="p">,</span> <span class="s2">"Name"</span><span class="p">,</span> <span class="s2">"Units"</span><span class="p">,</span> <span class="s2">"Version"</span><span class="p">,</span> <span class="s2">"UUID"</span><span class="p">]]</span>
    <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="n">streams</span><span class="p">:</span>
        <span class="c1"># Get all the tags for this stream.</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">tags</span><span class="p">()</span>
        <span class="n">table</span><span class="o">.</span><span class="n">append</span><span class="p">([</span>
            <span class="n">stream</span><span class="o">.</span><span class="n">collection</span><span class="p">,</span> <span class="n">stream</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="p">[</span><span class="s2">"unit"</span><span class="p">],</span> <span class="n">stream</span><span class="o">.</span><span class="n">version</span><span class="p">(),</span> <span class="n">stream</span><span class="o">.</span><span class="n">uuid</span>
        <span class="p">])</span>
    <span class="k">return</span> <span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s2">"firstrow"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">describe_streams</span><span class="p">(</span><span class="n">streams</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Collection     Name    Units      Version  UUID
-------------  ------  -------  ---------  ------------------------------------
sunshine/PMU1  LSTATE  mask        243640  6ffb2e7e-273c-4963-9143-b416923980b0
sunshine/PMU1  C1ANG   deg         240607  d625793b-721f-46e2-8b8c-18f882366eeb
sunshine/PMU1  C3MAG   amps        240481  fb61e4d1-3e17-48ee-bdf3-43c54b03d7c8
sunshine/PMU1  C2MAG   amps        240718  d765f128-4c00-4226-bacf-0de8ebb090b5
sunshine/PMU1  C1MAG   amps        240380  1187af71-2d54-49d4-9027-bae5d23c4bda
sunshine/PMU1  C3ANG   deg         240781  0be8a8f4-3b45-4fe3-b77c-1cbdadb92039
sunshine/PMU1  L3ANG   deg         240862  e4efd9f6-9932-49b6-9799-90815507aed0
sunshine/PMU1  L2ANG   deg         240662  886203ca-d3e8-4fca-90cc-c88dfd0283d4
sunshine/PMU1  L3MAG   volts       229263  b2936212-253e-488a-87f6-a9927042031f
sunshine/PMU1  L1ANG   deg         229265  51840b07-297a-42e5-a73a-290c0a47bddb
sunshine/PMU1  C2ANG   deg         229263  97de3802-d38d-403c-96af-d23b874b5e95
sunshine/PMU1  L1MAG   volts       229266  35bdb8dc-bf18-4523-85ca-8ebe384bd9b5
sunshine/PMU1  L2MAG   volts       229264  d4cfa9a6-e11a-4370-9eda-16e80773ce8c
</pre></div>
</div>
</div>
<p>We can also search for streams in terms of their metadata tags, by passing an optional <code class="docutils literal notranslate"><span class="pre">tag</span></code> arguement to the same <code class="docutils literal notranslate"><span class="pre">streams_in_collection</span></code> method. Let us get all the streams with units of <code class="docutils literal notranslate"><span class="pre">volts</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">streams</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">streams_in_collection</span><span class="p">(</span><span class="n">collection</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">{</span><span class="s2">"unit"</span><span class="p">:</span> <span class="s2">"volts"</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">describe_streams</span><span class="p">(</span><span class="n">streams</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Collection     Name    Units      Version  UUID
-------------  ------  -------  ---------  ------------------------------------
sunshine/PMU1  L3MAG   volts       229263  b2936212-253e-488a-87f6-a9927042031f
sunshine/PMU1  L1MAG   volts       229266  35bdb8dc-bf18-4523-85ca-8ebe384bd9b5
sunshine/PMU1  L2MAG   volts       229264  d4cfa9a6-e11a-4370-9eda-16e80773ce8c
</pre></div>
</div>
</div>
<p>The API also supports SQL queries to find streams and metadata, which you can learn more about in <a class="reference external" href="https://github.com/PingThingsIO/ni4ai-notebooks/blob/main/tutorials/7%20-%20Working%20with%20Metadata.ipynb">this notebook</a>.</p>
</section>
<section id="Work-with-a-stream">
<h2>Work with a stream<a class="headerlink" href="#Work-with-a-stream" title="Permalink to this headline">¶</a>
</h2>
<p>Let us work with the first stream in the above list of streams. We will look at its metadata and learn how to query time series data from the stream.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">stream</span> <span class="o">=</span> <span class="n">streams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Stream collection=sunshine/PMU1 name=L3MAG&gt;
</pre></div>
</div>
</div>
<p>Let’s checkout the stream’s metadata. Note that <code class="docutils literal notranslate"><span class="pre">stream.tags()</span></code> returns a dictionary of tags, while <code class="docutils literal notranslate"><span class="pre">stream.annotations</span></code> returns a tuple, where the first element is the annotation version and the second is the dictionary of annotations.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s1">'COLLECTION:'</span><span class="p">,</span> <span class="n">stream</span><span class="o">.</span><span class="n">collection</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">TAGS:</span><span class="se">\n</span><span class="s1">'</span><span class="p">,</span> <span class="n">stream</span><span class="o">.</span><span class="n">tags</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">ANNOTATIONS:</span><span class="se">\n</span><span class="s1">'</span><span class="p">,</span> <span class="n">stream</span><span class="o">.</span><span class="n">annotations</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">(),)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
COLLECTION: sunshine/PMU1

TAGS:
 dict_keys(['unit', 'ingress', 'distiller', 'name'])

ANNOTATIONS:
 dict_keys(['location', 'impedance'])
</pre></div>
</div>
</div>
<section id="Data-Types-from-Time-Series-Queries">
<h3>Data Types from Time Series Queries<a class="headerlink" href="#Data-Types-from-Time-Series-Queries" title="Permalink to this headline">¶</a>
</h3>
<p>Before we move on, let’s refresh some concepts on BTrDB data types.</p>
<p>There are two data types (represented by Python objects) that we may obtain when querying time series data from a stream. These are:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RawPoint</span></code>s — RawPoints represent the atomic data type in a time series: a paired timestamp and value that is the raw data of the series. Recall that these are stored at the absolute bottom of the BTrDB tree.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StatPoint</span></code>s — These are stored in the internal nodes of the BTrDB tree and contain precomputed statistical aggregates of the raw data that lies beneath them.</p></li>
</ol>
<p>Querying <code class="docutils literal notranslate"><span class="pre">RawPoint</span></code>s will be slower than querying <code class="docutils literal notranslate"><span class="pre">StatPoint</span></code>s. Between <code class="docutils literal notranslate"><span class="pre">StatPoint</span></code>s, it is faster to query those that reside higher up in the tree, corresponding to longer durations of raw data and correspondingly larger numbers of <code class="docutils literal notranslate"><span class="pre">RawPoint</span></code>s.</p>
</section>
<section id="Data-Time-Range">
<h3>Data Time Range<a class="headerlink" href="#Data-Time-Range" title="Permalink to this headline">¶</a>
</h3>
<p>There are a couple useful methods for understanding the time range covered by a stream. We can do this by getting the <em>earliest</em> and <em>latest</em> <code class="docutils literal notranslate"><span class="pre">RawPoint</span></code>s in the stream, as shown below.</p>
<p>A few things: queries for time series Points always return the Point(s) requested along with a <strong>version number</strong>. For most introductory users, the version is not useful, though you can read more about it in our docs. Below, we discard the version and just work with the returned <code class="docutils literal notranslate"><span class="pre">RawPoint</span></code>.</p>
<p>Time stamps in BTrDB are integers which represent <em>nanoseconds since the Unix epoch</em> <a class="reference external" href="https://www.epochconverter.com/">(January 1, 1970)</a>. These can be easily converted to more readable time stamps using utility functions in the <code class="docutils literal notranslate"><span class="pre">timez</span></code> package <a class="reference external" href="https://btrdb.readthedocs.io/en/latest/api/utils-timez.html">(read the docs here)</a>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="c1"># Get the earliest &amp; latest RawPoints in the stream</span>
<span class="n">earliest</span><span class="p">,</span> <span class="n">version</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">earliest</span><span class="p">()</span>
<span class="n">latest</span><span class="p">,</span> <span class="n">version</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">latest</span><span class="p">()</span>

<span class="c1"># Get the time from the RawPoints</span>
<span class="n">earliest_time</span> <span class="o">=</span> <span class="n">earliest</span><span class="o">.</span><span class="n">time</span>
<span class="n">latest_time</span> <span class="o">=</span> <span class="n">latest</span><span class="o">.</span><span class="n">time</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'Stream starts at: '</span><span class="p">,</span> <span class="n">timez</span><span class="o">.</span><span class="n">ns_to_datetime</span><span class="p">(</span><span class="n">earliest_time</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'Stream ends at: '</span><span class="p">,</span> <span class="n">timez</span><span class="o">.</span><span class="n">ns_to_datetime</span><span class="p">(</span><span class="n">latest_time</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Stream starts at:  2015-10-01 16:08:24.008333+00:00
Stream ends at:  2017-04-15 01:41:35.999999+00:00
</pre></div>
</div>
</div>
</section>
<section id="Querying-Data">
<h3>Querying Data<a class="headerlink" href="#Querying-Data" title="Permalink to this headline">¶</a>
</h3>
<p>There are three different methods to query data from a stream. These are documented &amp; described below (in order of increasing query speed). 1. <code class="docutils literal notranslate"><span class="pre">stream.values(start,</span> <span class="pre">end)</span></code>: This call will return all <code class="docutils literal notranslate"><span class="pre">RawPoint</span></code>s in the stream between the <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> time. 2. <code class="docutils literal notranslate"><span class="pre">stream.windows(start,</span> <span class="pre">end,</span> <span class="pre">width,</span> <span class="pre">depth=0)</span></code>: This call will return <code class="docutils literal notranslate"><span class="pre">StatPoint</span></code>s spanning (and summarizing) windows of length <code class="docutils literal notranslate"><span class="pre">width</span></code> between the <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> times. The <code class="docutils literal notranslate"><span class="pre">width</span></code>arguement is an integer
specifying the window length in <em>nanoseconds</em>. The optional integer <code class="docutils literal notranslate"><span class="pre">depth</span></code> parameter trades off the precision of the window width for efficiency. It is specified as a power of <span class="math notranslate nohighlight">\(2\)</span> in nanoseconds (so <code class="docutils literal notranslate"><span class="pre">depth=30</span></code> would make the windows accurate to roughly one second). 3. <code class="docutils literal notranslate"><span class="pre">stream.aligned_windows(start,</span> <span class="pre">end,</span> <span class="pre">pointwidth)</span></code>: Like <code class="docutils literal notranslate"><span class="pre">stream.windows</span></code>, this call will return <code class="docutils literal notranslate"><span class="pre">StatPoint</span></code>s corresponding to windows of a given width between the <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> times. However, this time,
the width is specified as an integer power of <span class="math notranslate nohighlight">\(2\)</span> in nanoseconds in the <code class="docutils literal notranslate"><span class="pre">pointwidth</span></code> argument.</p>
<p>To reiterate, <code class="docutils literal notranslate"><span class="pre">values</span></code> returns <code class="docutils literal notranslate"><span class="pre">RawPoint</span></code>s, while <code class="docutils literal notranslate"><span class="pre">windows</span></code> and <code class="docutils literal notranslate"><span class="pre">aligned_windows</span></code> return <code class="docutils literal notranslate"><span class="pre">StatPoint</span></code>s.</p>
<p>All these queries return a list of tuples, where each tuples contains a Point (<code class="docutils literal notranslate"><span class="pre">RawPoint</span></code> or <code class="docutils literal notranslate"><span class="pre">StatPoint</span></code>) and a version number. Further, as mentioned, the time stamps in the Points are in the inconvenient nanoseconds since the Unix epoch format.</p>
<p>Overall, we need a function to convert this returned data into a more conducive format. We choose to convert the <code class="docutils literal notranslate"><span class="pre">RawPoint</span></code>s to a <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html">pandas Series</a>, and the <code class="docutils literal notranslate"><span class="pre">StatPoint</span></code>s to a <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html">pandas DataFrame</a>, which are easy to work with. The functions to do this are defined below (these can be easily modified to produce a <code class="docutils literal notranslate"><span class="pre">numpy.array</span></code> if desired).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">rawpoints_to_series</span><span class="p">(</span><span class="n">rawpts_response</span><span class="p">):</span>
    <span class="n">times</span><span class="p">,</span> <span class="n">values</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">rawpoint</span><span class="p">,</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">rawpts_response</span><span class="p">:</span>
        <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timez</span><span class="o">.</span><span class="n">ns_to_datetime</span><span class="p">(</span><span class="n">rawpoint</span><span class="o">.</span><span class="n">time</span><span class="p">))</span>
        <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rawpoint</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">times</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">statpoints_to_dataframe</span><span class="p">(</span><span class="n">statpoints</span><span class="p">):</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'min'</span><span class="p">,</span><span class="s1">'mean'</span><span class="p">,</span><span class="s1">'max'</span><span class="p">,</span><span class="s1">'stddev'</span><span class="p">,</span><span class="s1">'count'</span><span class="p">,</span><span class="s1">'time'</span><span class="p">,]</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="nb">getattr</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span><span class="p">,</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">statpoints</span><span class="p">],</span>
                     <span class="n">columns</span><span class="o">=</span><span class="n">attributes</span><span class="p">)</span>

    <span class="n">df</span><span class="p">[</span><span class="s1">'datetime'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">timez</span><span class="o">.</span><span class="n">ns_to_datetime</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s1">'time'</span><span class="p">]]</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'datetime'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="stream.values">
<h4>
<code class="docutils literal notranslate"><span class="pre">stream.values</span></code><a class="headerlink" href="#stream.values" title="Permalink to this headline">¶</a>
</h4>
<p>Let us choose a <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> time for a <code class="docutils literal notranslate"><span class="pre">values</span></code> query. <strong>CAUTION</strong>: Most streams contain very high frequency data, so don’t use too long a duration when querying raw data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="c1"># Query the data</span>
<span class="n">rawpts_response</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
<span class="c1"># Convert it to a pandas Series</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">rawpoints_to_series</span><span class="p">(</span><span class="n">rawpts_response</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>It is very easy to plot the data in a pandas series. Just call <code class="docutils literal notranslate"><span class="pre">plot()</span></code>! Here we pass a few aesthetic arguments to the call.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">'--'</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_quickstart_29_0.png" src="../_images/tutorials_quickstart_29_0.png">
</div>
</div>
</section>
<section id="stream.windows">
<h4>
<code class="docutils literal notranslate"><span class="pre">stream.windows</span></code><a class="headerlink" href="#stream.windows" title="Permalink to this headline">¶</a>
</h4>
<p>Let us choose a longer time range and a window length for a <code class="docutils literal notranslate"><span class="pre">windows</span></code> query, which will return <code class="docutils literal notranslate"><span class="pre">StatPoint</span></code>s. Remeber that the window width must be specified as an integer number of nanoseconds.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">width</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">width_ns</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1e9</span><span class="o">*</span><span class="n">width</span><span class="o">.</span><span class="n">seconds</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="c1"># Query the data</span>
<span class="n">statpts_response</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">windows</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">width_ns</span><span class="p">)</span>
<span class="c1"># Convert it to a pandas Series</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">statpoints_to_dataframe</span><span class="p">(</span><span class="n">statpts_response</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>You can think of a pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> as an excel file. In this case, the rows are timestamps (coressponding to the windows) and the columns contain the different aggregates.</p>
<p>We can visualize the dataframe structure and entries with the <code class="docutils literal notranslate"><span class="pre">head()</span></code> call.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>min</th>
      <th>mean</th>
      <th>max</th>
      <th>stddev</th>
      <th>count</th>
      <th>time</th>
    </tr>
    <tr>
      <th>datetime</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2015-10-10 00:00:00+00:00</th>
      <td>7059.082520</td>
      <td>7070.945893</td>
      <td>7077.476562</td>
      <td>2.470590</td>
      <td>7200</td>
      <td>1444435200000000000</td>
    </tr>
    <tr>
      <th>2015-10-10 00:01:00+00:00</th>
      <td>7043.672852</td>
      <td>7058.894961</td>
      <td>7069.110840</td>
      <td>3.957179</td>
      <td>7200</td>
      <td>1444435260000000000</td>
    </tr>
    <tr>
      <th>2015-10-10 00:02:00+00:00</th>
      <td>7034.760254</td>
      <td>7053.560129</td>
      <td>7060.030762</td>
      <td>4.170064</td>
      <td>7200</td>
      <td>1444435320000000000</td>
    </tr>
    <tr>
      <th>2015-10-10 00:03:00+00:00</th>
      <td>7041.854004</td>
      <td>7053.804716</td>
      <td>7058.428223</td>
      <td>2.277033</td>
      <td>7200</td>
      <td>1444435380000000000</td>
    </tr>
    <tr>
      <th>2015-10-10 00:04:00+00:00</th>
      <td>7040.025879</td>
      <td>7055.781075</td>
      <td>7059.692383</td>
      <td>1.901117</td>
      <td>7200</td>
      <td>1444435440000000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Let us plot the resulting data. We can call <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> on the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, as we did earlier, but instead, we will manually plot only some of the columns, for easier and greater control of the visualization.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="c1"># Plot the mean of the windows</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'mean'</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">'--'</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">)</span>
<span class="c1"># Show the range of the minimum and maximum over the windows</span>
<span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'min'</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">'max'</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'lightgrey'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.collections.PolyCollection at 0x7f981c0be080&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_quickstart_36_1.png" src="../_images/tutorials_quickstart_36_1.png">
</div>
</div>
</section>
<section id="stream.aligned_windows">
<h4>
<code class="docutils literal notranslate"><span class="pre">stream.aligned_windows</span></code><a class="headerlink" href="#stream.aligned_windows" title="Permalink to this headline">¶</a>
</h4>
<p>Let us use the same <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> times in an <code class="docutils literal notranslate"><span class="pre">aligned_windows</span></code> query. Now, however, the window width must be an integer power of <span class="math notranslate nohighlight">\(2\)</span> nanoseconds, termed a <code class="docutils literal notranslate"><span class="pre">pointwidth</span></code>. The following function will convert an arbitrary <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> into the nearest pointwidth, and return the error (in seconds) between the input and returned widths.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">to_nearest_pointwidth</span><span class="p">(</span><span class="n">dt</span><span class="p">):</span>
    <span class="n">dt_ns</span> <span class="o">=</span> <span class="mf">1e9</span><span class="o">*</span><span class="n">dt</span><span class="o">.</span><span class="n">seconds</span>
    <span class="n">prevpw</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log2</span><span class="p">(</span><span class="n">dt_ns</span><span class="p">)))</span>
    <span class="n">nextpw</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log2</span><span class="p">(</span><span class="n">dt_ns</span><span class="p">)))</span>

    <span class="n">preverr</span> <span class="o">=</span> <span class="p">(</span><span class="n">dt_ns</span><span class="o">-</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">prevpw</span><span class="p">))</span> <span class="o">/</span> <span class="mf">1e9</span>
    <span class="n">nexterr</span> <span class="o">=</span> <span class="p">((</span><span class="mi">2</span><span class="o">**</span><span class="n">nextpw</span><span class="p">)</span><span class="o">-</span><span class="n">dt_ns</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e9</span>

    <span class="k">if</span> <span class="n">preverr</span> <span class="o">&lt;=</span> <span class="n">nexterr</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">prevpw</span><span class="p">,</span> <span class="n">preverr</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">nextpw</span><span class="p">,</span> <span class="n">nexterr</span>

<span class="nb">print</span><span class="p">(</span><span class="n">to_nearest_pointwidth</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(30, 0.073741824)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">width</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pw</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">to_nearest_pointwidth</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'pointwidth'</span><span class="p">,</span> <span class="n">pw</span><span class="p">,</span> <span class="s1">'with error'</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="s1">'seconds'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pointwidth 36 with error 8.719476736 seconds
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="c1"># Query the data</span>
<span class="n">statpts_response</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">aligned_windows</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">pw</span><span class="p">)</span>
<span class="c1"># Convert it to a pandas Series</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">statpoints_to_dataframe</span><span class="p">(</span><span class="n">statpts_response</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="c1"># Plot the mean of the windows</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'mean'</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">'--'</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">)</span>
<span class="c1"># Show the range of the minimum and maximum over the windows</span>
<span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'min'</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">'max'</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'lightgrey'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.collections.PolyCollection at 0x7f981c144f60&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_quickstart_41_1.png" src="../_images/tutorials_quickstart_41_1.png">
</div>
</div>
<p>What if we specify a longer window?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">width</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">pw</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">to_nearest_pointwidth</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'pointwidth'</span><span class="p">,</span> <span class="n">pw</span><span class="p">,</span> <span class="s1">'with error'</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="s1">'seconds'</span><span class="p">)</span>

<span class="c1"># Query the data</span>
<span class="n">statpts_response</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">aligned_windows</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">pw</span><span class="p">)</span>
<span class="c1"># Convert it to a pandas Series</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">statpoints_to_dataframe</span><span class="p">(</span><span class="n">statpts_response</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="c1"># Plot the mean of the windows</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'mean'</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">'--'</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">)</span>
<span class="c1"># Show the range of the minimum and maximum over the windows</span>
<span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">'min'</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">'max'</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'lightgrey'</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pointwidth 39 with error 50.244186112 seconds
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_quickstart_43_1.png" src="../_images/tutorials_quickstart_43_1.png">
</div>
</div>
</section>
</section>
</section>
<section id="Work-with-multiple-streams-using-streamsets">
<h2>Work with multiple streams using streamsets<a class="headerlink" href="#Work-with-multiple-streams-using-streamsets" title="Permalink to this headline">¶</a>
</h2>
<p>We often want to query data from a bunch of streams. Of course, we could do this manually by iterating through the individual streams and using the methods described. However, we also have the option of using a <code class="docutils literal notranslate"><span class="pre">`StreamSet</span></code> &lt;<a class="reference external" href="https://btrdb.readthedocs.io/en/latest/working/streamsets.html">https://btrdb.readthedocs.io/en/latest/working/streamsets.html</a>&gt;`__, which is a light wrapper around a list of streams.</p>
<p>The following cells show a few examples for working with <code class="docutils literal notranslate"><span class="pre">StreamSet</span></code>s. For more, see <a class="reference external" href="https://github.com/PingThingsIO/ni4ai-notebooks/blob/main/tutorials/3%20-%20Working%20With%20StreamSets.ipynb">this notebook</a>. Notice that when querying <code class="docutils literal notranslate"><span class="pre">StreamSet</span></code>s, version numbers are no longer returned, as they were for queries on single streams.</p>
<p>To begin, we use the same collection as before, and get a list of streams, which we then convert to a <code class="docutils literal notranslate"><span class="pre">StreamSet</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">streams</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">streams_in_collection</span><span class="p">(</span><span class="n">collection</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">{</span><span class="s2">"unit"</span><span class="p">:</span> <span class="s2">"volts"</span><span class="p">})</span>
<span class="n">streamset</span> <span class="o">=</span> <span class="n">StreamSet</span><span class="p">(</span><span class="n">streams</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We can now do some queries on all streams at once. For example…</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">earliests</span> <span class="o">=</span> <span class="n">streamset</span><span class="o">.</span><span class="n">earliest</span><span class="p">()</span> <span class="c1"># Returns a list of RawPoints, one for each stream</span>
<span class="n">latests</span> <span class="o">=</span> <span class="n">streamset</span><span class="o">.</span><span class="n">latest</span><span class="p">()</span> <span class="c1"># Returns a list of RawPoints, one for each stream</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">streamset</span><span class="p">)):</span>
    <span class="c1"># Get the times for this stream</span>
    <span class="n">earliest_time</span> <span class="o">=</span> <span class="n">earliests</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">time</span>
    <span class="n">latest_time</span> <span class="o">=</span> <span class="n">latests</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">time</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Stream'</span><span class="p">,</span> <span class="n">streamset</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'starts at: '</span><span class="p">,</span> <span class="n">timez</span><span class="o">.</span><span class="n">ns_to_datetime</span><span class="p">(</span><span class="n">earliest_time</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'ends at: '</span><span class="p">,</span> <span class="n">timez</span><span class="o">.</span><span class="n">ns_to_datetime</span><span class="p">(</span><span class="n">latest_time</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'--------------------'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Stream L3MAG
starts at:  2015-10-01 16:08:24.008333+00:00
ends at:  2017-04-15 01:41:35.999999+00:00
--------------------
Stream L1MAG
starts at:  2015-10-01 16:08:24.008333+00:00
ends at:  2017-04-15 01:37:11.333333+00:00
--------------------
Stream L2MAG
starts at:  2015-10-01 16:08:24.008333+00:00
ends at:  2017-04-15 01:41:35.999999+00:00
--------------------
</pre></div>
</div>
</div>
<p>Let us make a <code class="docutils literal notranslate"><span class="pre">values</span></code> (ie raw data) query on this <code class="docutils literal notranslate"><span class="pre">StreamSet</span></code>. Notice the difference in the query form: we use a function chaining approach to first set the <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> times. Then, the <code class="docutils literal notranslate"><span class="pre">values</span></code> are requested.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">streamset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The result <code class="docutils literal notranslate"><span class="pre">data</span></code>, is a list of lists, each containing the <code class="docutils literal notranslate"><span class="pre">RawPoint</span></code>s for one of the streams in the <code class="docutils literal notranslate"><span class="pre">StreamSet</span></code>.</p>
<p>To make the data more workable, we can instead query the result as a pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, as shown below:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">data</span> <span class="o">=</span> <span class="n">streamset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sunshine/PMU1/L3MAG</th>
      <th>sunshine/PMU1/L1MAG</th>
      <th>sunshine/PMU1/L2MAG</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1444435200008333000</th>
      <td>7068.010742</td>
      <td>7161.215332</td>
      <td>7076.146484</td>
    </tr>
    <tr>
      <th>1444435200016666000</th>
      <td>7068.098633</td>
      <td>7161.130371</td>
      <td>7076.227539</td>
    </tr>
    <tr>
      <th>1444435200024999000</th>
      <td>7068.275879</td>
      <td>7161.411133</td>
      <td>7076.442383</td>
    </tr>
    <tr>
      <th>1444435200033333000</th>
      <td>7068.182617</td>
      <td>7161.659668</td>
      <td>7076.458984</td>
    </tr>
    <tr>
      <th>1444435200041666000</th>
      <td>7067.982422</td>
      <td>7161.583008</td>
      <td>7076.268066</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>The timestamps still need to be converted, which we do below:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">to_human_time</span><span class="p">(</span><span class="n">time_ns</span><span class="p">):</span>
    <span class="n">time_human</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">time</span> <span class="ow">in</span> <span class="n">time_ns</span><span class="p">:</span>
        <span class="n">time_human</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">timez</span><span class="o">.</span><span class="n">ns_to_datetime</span><span class="p">(</span><span class="n">time</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">time_human</span>

<span class="n">data</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">to_human_time</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sunshine/PMU1/L3MAG</th>
      <th>sunshine/PMU1/L1MAG</th>
      <th>sunshine/PMU1/L2MAG</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2015-10-10 00:00:00.008333+00:00</th>
      <td>7068.010742</td>
      <td>7161.215332</td>
      <td>7076.146484</td>
    </tr>
    <tr>
      <th>2015-10-10 00:00:00.016666+00:00</th>
      <td>7068.098633</td>
      <td>7161.130371</td>
      <td>7076.227539</td>
    </tr>
    <tr>
      <th>2015-10-10 00:00:00.024999+00:00</th>
      <td>7068.275879</td>
      <td>7161.411133</td>
      <td>7076.442383</td>
    </tr>
    <tr>
      <th>2015-10-10 00:00:00.033333+00:00</th>
      <td>7068.182617</td>
      <td>7161.659668</td>
      <td>7076.458984</td>
    </tr>
    <tr>
      <th>2015-10-10 00:00:00.041666+00:00</th>
      <td>7067.982422</td>
      <td>7161.583008</td>
      <td>7076.268066</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>And we can plot!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span><span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_quickstart_57_1.png" src="../_images/tutorials_quickstart_57_1.png">
</div>
</div>
<p>And that is it! You’ve had a basic introduction to working with PredictiveGrid in Python. You are ready to start working with your data and conducting some interesting analyses.</p>
<p>As you go, you will want to learn about and use more advanced platform capabilities. Make sure to look at the notebooks <a class="reference external" href="https://github.com/PingThingsIO/ni4ai-notebooks">here</a> containing both tutorials and analytics demos. You can also <a class="reference external" href="https://blog.ni4ai.org/">read the blog</a>, which shares user stories, capabilities, etc. Also, read the docs!</p>
</section>
<section id="THE-END">
<h2>THE END<a class="headerlink" href="#THE-END" title="Permalink to this headline">¶</a>
</h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate">
<div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate">
<div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</section>
</section>



              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Code</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="collections.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">1 - Finding Collections &amp; Streams</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, PingThings.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>